name: GitHub Actions Demo
run-name: ${{ github.actor }} is testing out GitHub Actions ðŸš€
on: [push]
jobs:
  Explore-GitHub-Actions:
    runs-on: ubuntu-latest
    steps:
      - name: ðŸŽ‰ Checkout repository
        uses: actions/checkout@v4

      - name: Setup Node.js, pnpm and dependencies
        uses: ./.github/actions/setup-pnpm
        with:
          token: ${{ secrets.GITHUB_TOKEN }}

      - name: Build mobile JS
        run: pnpm run export

      # - name: Download artifacts
      #   uses: actions/download-artifact@v4

      # - name: Create Release
      #   uses: CupOfTea696/gh-action-auto-release@v1.0.2
      #   with:
      #     token: ${{ secrets.GITHUB_TOKEN }}
      #     draft: true
      #     files: '*/**'

  release:
    runs-on: ubuntu-latest
    name: Create Release
    needs: desktop-main
    permissions:
      contents: write
    steps:
      - name: Download artifacts
        uses: actions/download-artifact@v4

      - name: Create Release
        # TODO: Change to stable version when available
        uses: softprops/action-gh-release@4634c16e79c963813287e889244c50009e7f0981
        with:
          draft: true
          files: '*/**'